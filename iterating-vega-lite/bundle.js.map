{"version":3,"file":"bundle.js","sources":["config.js","getData.js","viz.js","index.js"],"sourcesContent":["// Appearance customization to improve readability.\n// See https://vega.github.io/vega-lite/docs/\nconst dark = '#3e3c38';\nexport const config = {\n  axis: {\n    domain: false,\n    tickColor: 'lightGray'\n  },\n  style: {\n    \"guide-label\": {\n      fontSize: 20,\n      fill: dark\n    },\n    \"guide-title\": {\n      fontSize: 30,\n      fill: dark\n    }\n  }\n};","import { csv } from 'd3';\n\n// const csvUrl = 'https://gist.githubusercontent.com/curran/8c131a74b85d0bb0246233de2cff3f52/raw/194c2fc143790b937c42bf086a5a44cb3c55340e/auto-mpg.csv';\n\n// const csvUrl = 'https://gist.githubusercontent.com/curran/90240a6d88bdb1411467b21ea0769029/raw/7d4c3914cc6a29a7f5165f7d5d82b735d97bcfe4/week_temperature_sf.csv';\n\n// const csvUrl = 'https://gist.githubusercontent.com/curran/6cd1e224d76811b68df4/raw/12c93b2e53872d088331d939bdb790019f06dc32/populationByCountry2015.csv';\n\nconst csvUrl = 'https://gist.githubusercontent.com/curran/805413fb3b2efaada1ce/raw/f030ce7bd9a46f3d4c09b4c8db1729fab885cc33/religionByCountryTop5.csv';\n\nexport const getData = async () => {\n  const data = await csv(csvUrl);\n  \n  // Have a look at the attributes available in the console!\n  console.log(data[0]);\n\n  return data;\n};","import vl from 'vega-lite-api';\n\n// Cars dataset\n// export const viz = vl\n//   .markCircle({    \n//     size: 500,    \n//   })\n//   .encode(\n//     vl.x().fieldQ('mpg').scale({ zero: false }),\n//     vl.y().fieldQ('horsepower').scale({ zero: false }),\n//     vl.color().fieldN('origin'),\n//     vl.size().fieldQ('horsepower'),\n//     vl.tooltip().fieldN('name')\n//   );\n\n\n// Temperature dataset\n// export const viz = vl\n//   .markLine({    \n//   })\n//   .encode(\n//     vl.x().fieldT('timestamp').scale({ zero: false }),\n//     vl.y().fieldQ('temperature').scale({ zero: false }),\n//     vl.tooltip().fieldN('temperature')\n//   );\n\n// Countries dataset\n// export const viz = vl\n//   .markBar({    \n//   })\n//   .encode(\n//     vl.x().fieldN('country').sort('-y'),\n//     vl.y().fieldQ('population'),\n//     vl.tooltip().fieldN('population')\n//   );  \n\n// Religion dataset - stacked bar chart\n// export const viz = vl\n//   .markBar({    \n//   })\n//   .encode(\n//     vl.x().fieldN('country').sort('-y'),\n//     vl.y().fieldQ('population'),\n//     vl.color().fieldN('religion'),\n//     vl.tooltip().fieldN('population')\n//   );  \n\n// Religion dataset - bubble chart\nexport const viz = vl\n  .markCircle({    \n  })\n  .encode(\n    vl.x().fieldN('country').sort('-y'),\n    vl.y().fieldN('religion'),\n    vl.size().fieldQ('population'),\n    vl.tooltip().fieldN('population')\n  );  ","import vega from 'vega';\nimport vegaLite from 'vega-lite';\nimport vl from 'vega-lite-api';\nimport { Handler } from 'vega-tooltip';\nimport { config } from './config';\nimport { getData } from './getData';\nimport { viz } from './viz';\n\nvl.register(vega, vegaLite, {\n  view: { renderer: 'svg' },\n  init: view => { view.tooltip(new Handler().call); }\n});\n\nconst run = async () => {\n  const marks = viz\n    .data(await getData())\n    .width(window.innerWidth)\n    .height(window.innerHeight)\n    .autosize({ type: 'fit', contains: 'padding' })\n    .config(config);\n  \n  document.body.appendChild(await marks.render());\n};\nrun();"],"names":["csv","vl","vega","vegaLite","Handler"],"mappings":";;;;;;;;;EAAA;EACA;EACA,MAAM,IAAI,GAAG,SAAS,CAAC;EAChB,MAAM,MAAM,GAAG;EACtB,EAAE,IAAI,EAAE;EACR,IAAI,MAAM,EAAE,KAAK;EACjB,IAAI,SAAS,EAAE,WAAW;EAC1B,GAAG;EACH,EAAE,KAAK,EAAE;EACT,IAAI,aAAa,EAAE;EACnB,MAAM,QAAQ,EAAE,EAAE;EAClB,MAAM,IAAI,EAAE,IAAI;EAChB,KAAK;EACL,IAAI,aAAa,EAAE;EACnB,MAAM,QAAQ,EAAE,EAAE;EAClB,MAAM,IAAI,EAAE,IAAI;EAChB,KAAK;EACL,GAAG;EACH,CAAC;;EChBD;AACA;EACA;AACA;EACA;AACA;EACA,MAAM,MAAM,GAAG,uIAAuI,CAAC;AACvJ;EACO,MAAM,OAAO,GAAG,YAAY;EACnC,EAAE,MAAM,IAAI,GAAG,MAAMA,MAAG,CAAC,MAAM,CAAC,CAAC;EACjC;EACA;EACA,EAAE,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;AACvB;EACA,EAAE,OAAO,IAAI,CAAC;EACd,CAAC;;ECfD;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;AACA;AACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;AACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;AACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;AACA;EACA;EACO,MAAM,GAAG,GAAGC,sBAAE;EACrB,GAAG,UAAU,CAAC;EACd,GAAG,CAAC;EACJ,GAAG,MAAM;EACT,IAAIA,sBAAE,CAAC,CAAC,EAAE,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC;EACvC,IAAIA,sBAAE,CAAC,CAAC,EAAE,CAAC,MAAM,CAAC,UAAU,CAAC;EAC7B,IAAIA,sBAAE,CAAC,IAAI,EAAE,CAAC,MAAM,CAAC,YAAY,CAAC;EAClC,IAAIA,sBAAE,CAAC,OAAO,EAAE,CAAC,MAAM,CAAC,YAAY,CAAC;EACrC,GAAG;;AChDHA,wBAAE,CAAC,QAAQ,CAACC,wBAAI,EAAEC,4BAAQ,EAAE;EAC5B,EAAE,IAAI,EAAE,EAAE,QAAQ,EAAE,KAAK,EAAE;EAC3B,EAAE,IAAI,EAAE,IAAI,IAAI,EAAE,IAAI,CAAC,OAAO,CAAC,IAAIC,mBAAO,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE;EACrD,CAAC,CAAC,CAAC;AACH;EACA,MAAM,GAAG,GAAG,YAAY;EACxB,EAAE,MAAM,KAAK,GAAG,GAAG;EACnB,KAAK,IAAI,CAAC,MAAM,OAAO,EAAE,CAAC;EAC1B,KAAK,KAAK,CAAC,MAAM,CAAC,UAAU,CAAC;EAC7B,KAAK,MAAM,CAAC,MAAM,CAAC,WAAW,CAAC;EAC/B,KAAK,QAAQ,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,QAAQ,EAAE,SAAS,EAAE,CAAC;EACnD,KAAK,MAAM,CAAC,MAAM,CAAC,CAAC;EACpB;EACA,EAAE,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,KAAK,CAAC,MAAM,EAAE,CAAC,CAAC;EAClD,CAAC,CAAC;EACF,GAAG,EAAE;;;;;;"}